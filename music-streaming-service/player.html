<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Плеер — GrandsonSound</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <a href="../index.html" class="logo"><i class="fas fa-headphones"></i> GrandsonSound</a>
            <div class="nav-links">
                <a href="../index.html">Главная</a>
                <a href="catalog.html">Каталог</a>
                <a href="pricing.html">Тарифы</a>
            </div>
            <div class="nav-buttons">
                <a href="login.html" class="btn btn-login">Войти</a>
                <a href="register.html" class="btn btn-primary">Регистрация</a>
            </div>
        </div>
    </nav>

    <section class="container" style="margin-top: 100px; text-align: center;">
        <div style="max-width: 600px; margin: 0 auto;">
            <div class="cover" style="width: 200px; height: 200px; margin: 0 auto 30px; font-size: 48px;" id="albumCover">KV</div>
            <h1 id="trackTitle">Crazy Story</h1>
            <h2 style="color: var(--gray);" id="artistName">King Von</h2>
            
            <div style="margin: 40px 0;">
                <div class="progress" style="margin-bottom: 20px;">
                    <div class="progress-fill" id="progressFill" style="width: 20%;"></div>
                </div>
                <div class="controls" style="justify-content: center;">
                    <button id="prevBtn"><i class="fas fa-step-backward"></i></button>
                    <button id="playPauseBtn" style="width: 64px; height: 64px; background: var(--primary); border-radius: 50%;"><i class="fas fa-play"></i></button>
                    <button id="nextBtn"><i class="fas fa-step-forward"></i></button>
                </div>
            </div>
            
            <a href="pricing.html" class="btn btn-primary" style="margin-top: 20px;">Премиум — слушать без рекламы</a>
        </div>
    </section>

    <script>
        const tracks = [
            { title: "Crazy Story", artist: "King Von", cover: "KV", color: "#E53E3E" },
            { title: "Took Her To The O", artist: "King Von", cover: "KV", color: "#E53E3E" },
            { title: "Shotta Flow", artist: "NLE Choppa", cover: "NC", color: "#2563EB" },
            { title: "Camelot", artist: "NLE Choppa", cover: "NC", color: "#2563EB" },
            { title: "Love Sosa", artist: "Chief Keef", cover: "CS", color: "#F59E0B" },
            { title: "Faneto", artist: "Chief Keef", cover: "CS", color: "#F59E0B" },
            { title: "All My Life", artist: "Lil Durk", cover: "LD", color: "#10B981" },
            { title: "Viral Moment", artist: "Lil Durk", cover: "LD", color: "#10B981" }
        ];
        
        const params = new URLSearchParams(window.location.search);
        let currentIndex = 0;
        const trackParam = params.get('track');
        if (trackParam) {
            const index = tracks.findIndex(t => t.title.toLowerCase().replace(/\s/g,'-') === trackParam);
            if (index !== -1) currentIndex = index;
        }
        
        function loadTrack(index) {
            const track = tracks[index];
            document.getElementById('trackTitle').innerText = track.title;
            document.getElementById('artistName').innerText = track.artist;
            const coverEl = document.getElementById('albumCover');
            coverEl.innerText = track.cover;
            coverEl.style.background = track.color;
        }
        loadTrack(currentIndex);
        
        let isPlaying = false;
        const playBtn = document.getElementById('playPauseBtn');
        playBtn.addEventListener('click', () => {
isPlaying = !isPlaying;
            playBtn.innerHTML = isPlaying ? '<i class="fas fa-pause"></i>' : '<i class="fas fa-play"></i>';
        });
        
        document.getElementById('prevBtn').addEventListener('click', () => {
            currentIndex = (currentIndex - 1 + tracks.length) % tracks.length;
            loadTrack(currentIndex);
        });
        document.getElementById('nextBtn').addEventListener('click', () => {
            currentIndex = (currentIndex + 1) % tracks.length;
            loadTrack(currentIndex);
        });
    </script>
    <script src="../navigation.js"></script>
</body>
</html>